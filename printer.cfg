[include mainsail.cfg]
[include sovol-macros.cfg]
[include timelapse.cfg]
[include GP3D_Macro.cfg]
[include test_speed.cfg]
[include KAMP_Settings.cfg]
[include sb-dummy.cfg]
[include new-macros.cfg]
[include steppers.cfg]
[include eddy.cfg]
[include fans-and-temp-sensors.cfg]
[include moonraker_obico_macros.cfg]

[include options/lcd/*.cfg]
# [include options/hdmi/*.cfg]

[mcu]
serial: /dev/serial/by-id/usb-Klipper_stm32f103xe_32FFD5054747393934692057-if00
restart_method: command

[mcu extra_mcu]
serial: /dev/serial/by-id/usb-Klipper_stm32f103xe_50FF69068367515546441367-if00
restart_method: command

[printer]
kinematics: corexy
max_velocity: 700
# printer max 40k
# input shaping says <= 8700 for x, <= 4100 for y
max_accel: 20000
minimum_cruise_ratio: 0.5
max_z_velocity: 20
max_z_accel: 500
square_corner_velocity: 5.0

[virtual_sdcard]
path: ~/printer_data/gcodes
on_error_gcode: CANCEL_PRINT

[force_move]
enable_force_move: true

[extruder]
rotation_distance: 6.738 #6.745 #6.5
nozzle_diameter: 0.400
filament_diameter: 1.75
# for purge
max_extrude_cross_section: 6

[thermistor my_thermistor_e]
temperature1:25
resistance1:110000
temperature2:100
resistance2:7008
temperature3:220
resistance3:435

[verify_heater extruder]
max_error: 120
check_gain_time:30
hysteresis: 5
heating_gain: 2

[filament_switch_sensor filament_sensor]
pause_on_runout: True
event_delay: 3.0
pause_delay: 0.5
switch_pin: PE9

[thermistor my_thermistor]
temperature1:25
resistance1:100000
temperature2:50
resistance2:18085.4
temperature3:100
resistance3:5362.6

[heater_bed]
heater_pin:PA0
sensor_type: my_thermistor
sensor_pin: PC5
max_power: 1.0
min_temp: 5
max_temp: 105
control : pid
pid_kp : 73.571
pid_ki : 1.820
pid_kd : 783.849

[verify_heater heater_bed]
max_error: 120
check_gain_time:40
hysteresis: 5
heating_gain: 2

[probe_pressure]
pin: ^!PE12
x_offset: 0
y_offset: 0
z_offset : 0
speed: 1.0

[quad_gantry_level]
gantry_corners:
	-60,-10
	410,420
points:
	36,10
	36,320
	346,320
	346,10
speed: 400
horizontal_move_z: 5 # orig 10
retry_tolerance: 0.02 # orig 0.05 # someone had .008 which is nuts?
retries: 10 # orig 5
max_adjust: 10 # orig 30

[gcode_arcs]
resolution: 1.0

[idle_timeout]
gcode: _IDLE_TIMEOUT
timeout: 600

[pause_resume]

[exclude_object]

[firmware_retraction]

[adxl345]
cs_pin:extra_mcu:PB12

[resonance_tester]
accel_chip: adxl345
probe_points:
    175, 175, 30  # an example175 Y175 Z30
#accel_per_hz:50
min_freq:1
max_freq:120
#max_smoothing:0.2
#hz_per_sec:0.5

[input_shaper]
#damping_ratio_x: 0.001
#damping_ratio_y: 0.001
shaper_type_x = mzv
shaper_freq_x = 54.2
shaper_type_y = mzv
shaper_freq_y = 37

[save_variables]
filename = ~/printer_data/config/saved_variables.cfg

# was 2.492 (automatic)
# was 2.055 (manual)
# was 1.888 -- got some good prints out of this with orange ASA, but then it's terrible
# automatic probe gave me 2.54 after the 1.888
# # manual probing gave me 2.276
## [probe]
## z_offset = 2.246
##

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [temperature_probe btt_eddy]
#*# calibration_temp = 51.609277
#*#
#*# [probe_eddy_current btt_eddy]
#*# calibrate =
#*# 	0.050625:3172569.335,0.090000:3172246.388,0.129375:3171918.914,
#*# 	0.170625:3171549.658,0.210000:3171230.087,0.249375:3170932.386,
#*# 	0.290625:3170588.352,0.330000:3170282.502,0.369375:3169982.602,
#*# 	0.410625:3169667.395,0.450000:3169386.381,0.489375:3169088.387,
#*# 	0.530625:3168788.679,0.570000:3168517.578,0.609375:3168236.286,
#*# 	0.650625:3167959.616,0.690000:3167687.064,0.729375:3167403.587,
#*# 	0.770625:3167111.376,0.810000:3166893.111,0.849375:3166658.124,
#*# 	0.890625:3166398.641,0.930000:3166124.844,0.969375:3165890.142,
#*# 	1.010625:3165646.484,1.050000:3165424.234,1.089375:3165214.076,
#*# 	1.130625:3164955.740,1.170000:3164724.877,1.209375:3164534.131,
#*# 	1.250625:3164302.504,1.290000:3164081.771,1.329375:3163888.652,
#*# 	1.370625:3163663.120,1.410000:3163452.920,1.449375:3163267.251,
#*# 	1.490625:3163069.373,1.530000:3162870.575,1.569375:3162676.148,
#*# 	1.610625:3162510.770,1.650000:3162295.777,1.689375:3162128.809,
#*# 	1.730625:3161931.677,1.770000:3161764.070,1.809375:3161611.597,
#*# 	1.850625:3161419.101,1.890000:3161245.279,1.929375:3161089.611,
#*# 	1.970625:3160911.729,2.010000:3160740.135,2.049375:3160611.413,
#*# 	2.090625:3160443.034,2.130000:3160276.689,2.169375:3160123.760,
#*# 	2.210625:3159973.317,2.250000:3159830.734,2.289375:3159691.434,
#*# 	2.330625:3159548.304,2.370000:3159403.924,2.409375:3159260.899,
#*# 	2.450625:3159132.902,2.490000:3158991.791,2.529375:3158858.718,
#*# 	2.570625:3158725.903,2.610000:3158593.453,2.649375:3158452.101,
#*# 	2.690625:3158324.674,2.730000:3158190.510,2.769375:3158090.057,
#*# 	2.810625:3157954.831,2.850000:3157823.518,2.889375:3157712.143,
#*# 	2.930625:3157587.735,2.970000:3157456.010,3.009375:3157358.869,
#*# 	3.050625:3157259.144,3.090000:3157135.151,3.129375:3157042.801,
#*# 	3.170625:3156919.602,3.210000:3156816.954,3.249375:3156718.975,
#*# 	3.290625:3156612.280,3.330000:3156513.035,3.369375:3156425.432,
#*# 	3.410625:3156304.121,3.450000:3156205.158,3.489375:3156114.265,
#*# 	3.530625:3156023.338,3.570000:3155919.886,3.609375:3155813.374,
#*# 	3.650625:3155735.607,3.690000:3155642.975,3.729375:3155551.766,
#*# 	3.770625:3155474.752,3.810000:3155377.069,3.849375:3155295.553,
#*# 	3.890625:3155203.514,3.930000:3155123.427,3.969375:3155051.051,
#*# 	4.010625:3154949.942,4.050000:3154882.068
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  0.363231, 0.323551, 0.280732, 0.247965, 0.211289, 0.182415, 0.155343, 0.132656, 0.119434, 0.092278, 0.089397, 0.063821, 0.055924, 0.048408, 0.057419, 0.060295, 0.052166, 0.054045, 0.059298, 0.070188, 0.079571, 0.074256, 0.094324, 0.104571, 0.128611, 0.156088, 0.157434, 0.188297, 0.201255, 0.233905, 0.267787, 0.287167, 0.330804
#*# 	  0.344190, 0.296994, 0.254069, 0.225509, 0.186915, 0.156406, 0.127525, 0.114302, 0.092280, 0.085716, 0.077103, 0.056307, 0.027415, 0.037171, 0.041276, 0.045798, 0.046529, 0.036023, 0.041276, 0.055540, 0.047680, 0.070188, 0.082036, 0.104153, 0.107039, 0.130821, 0.158107, 0.168525, 0.190387, 0.213809, 0.258262, 0.285472, 0.307386
#*# 	  0.338847, 0.306474, 0.268473, 0.228029, 0.200827, 0.174761, 0.160198, 0.134492, 0.108545, 0.108252, 0.086138, 0.075890, 0.064551, 0.058915, 0.055540, 0.061177, 0.050671, 0.055157, 0.065319, 0.070188, 0.077940, 0.088184, 0.102522, 0.117973, 0.134492, 0.152072, 0.163670, 0.182060, 0.205439, 0.243423, 0.269556, 0.305125, 0.331199
#*# 	  0.362093, 0.334495, 0.290558, 0.266441, 0.225936, 0.202920, 0.183088, 0.150489, 0.138124, 0.128985, 0.116137, 0.104571, 0.094327, 0.080408, 0.086138, 0.074259, 0.085716, 0.086138, 0.094327, 0.102522, 0.102940, 0.107458, 0.139498, 0.145091, 0.158143, 0.176852, 0.185533, 0.213382, 0.241519, 0.278690, 0.304779, 0.325464, 0.358814
#*# 	  0.368555, 0.342669, 0.310211, 0.274296, 0.253675, 0.232002, 0.205012, 0.182060, 0.165406, 0.155769, 0.135203, 0.118347, 0.123104, 0.108670, 0.102522, 0.092696, 0.102522, 0.120894, 0.110631, 0.117973, 0.132281, 0.143294, 0.154989, 0.158461, 0.171643, 0.200400, 0.223417, 0.244938, 0.261980, 0.293603, 0.321640, 0.351697, 0.376241
#*# 	  0.375936, 0.348791, 0.312476, 0.279038, 0.266178, 0.237324, 0.208770, 0.175470, 0.158816, 0.156725, 0.137551, 0.123479, 0.114302, 0.110631, 0.110256, 0.113927, 0.094743, 0.106621, 0.123104, 0.123479, 0.122018, 0.131195, 0.149461, 0.155698, 0.176852, 0.174088, 0.213382, 0.232391, 0.263495, 0.286473, 0.315908, 0.347764, 0.368821
#*# 	  0.388118, 0.371566, 0.342669, 0.306820, 0.279382, 0.253286, 0.225936, 0.204315, 0.193696, 0.171997, 0.153607, 0.143256, 0.128985, 0.118347, 0.135578, 0.117973, 0.111006, 0.119808, 0.125314, 0.134492, 0.147676, 0.156725, 0.165406, 0.182415, 0.177206, 0.209197, 0.228029, 0.250260, 0.283776, 0.298689, 0.339594, 0.363839, 0.379212
#*# 	  0.444952, 0.410304, 0.375103, 0.357027, 0.306820, 0.283776, 0.265445, 0.220513, 0.215474, 0.190387, 0.173733, 0.173733, 0.157079, 0.156725, 0.154033, 0.143394, 0.144380, 0.148350, 0.154670, 0.163670, 0.158461, 0.185887, 0.179297, 0.198735, 0.219232, 0.230487, 0.254413, 0.275991, 0.301388, 0.328893, 0.341148, 0.374757, 0.402222
#*# 	  0.471760, 0.443651, 0.389313, 0.353406, 0.338847, 0.313607, 0.295644, 0.259344, 0.243423, 0.228029, 0.215047, 0.194550, 0.178588, 0.167497, 0.165406, 0.167497, 0.157079, 0.174655, 0.170261, 0.185285, 0.184824, 0.183797, 0.205012, 0.221752, 0.232391, 0.257049, 0.275645, 0.291907, 0.304122, 0.341148, 0.363880, 0.381001, 0.418388
#*# 	  0.487764, 0.456783, 0.412743, 0.376243, 0.348401, 0.317181, 0.283776, 0.265398, 0.247230, 0.222179, 0.203347, 0.192458, 0.178588, 0.172706, 0.175115, 0.165406, 0.169906, 0.165761, 0.170615, 0.175470, 0.187269, 0.180324, 0.198735, 0.215474, 0.235809, 0.252940, 0.261247, 0.279382, 0.307386, 0.342276, 0.362314, 0.390922, 0.412325
#*# 	  0.506696, 0.471523, 0.441670, 0.390924, 0.362662, 0.330804, 0.289211, 0.269556, 0.260901, 0.241519, 0.213254, 0.205012, 0.185533, 0.173733, 0.183088, 0.166788, 0.176852, 0.182733, 0.183088, 0.182060, 0.192031, 0.189006, 0.225082, 0.217994, 0.247230, 0.258220, 0.280732, 0.283776, 0.321640, 0.354362, 0.370305, 0.402777, 0.418811
#*# 	  0.528536, 0.496735, 0.464654, 0.404653, 0.369124, 0.346490, 0.325071, 0.282081, 0.261980, 0.261680, 0.237712, 0.213809, 0.209197, 0.198735, 0.198165, 0.183442, 0.183442, 0.183442, 0.186915, 0.192458, 0.204585, 0.219232, 0.215901, 0.243034, 0.249868, 0.262762, 0.290558, 0.303430, 0.329286, 0.354665, 0.367378, 0.414351, 0.438389
#*# 	  0.540712, 0.504666, 0.465958, 0.424456, 0.390506, 0.352002, 0.332714, 0.298343, 0.269556, 0.263975, 0.236197, 0.226363, 0.219659, 0.209197, 0.198735, 0.200400, 0.194123, 0.198308, 0.194550, 0.202920, 0.211289, 0.225936, 0.239227, 0.248745, 0.269526, 0.274644, 0.290212, 0.315908, 0.349910, 0.368821, 0.390509, 0.426059, 0.451860
#*# 	  0.534184, 0.499002, 0.464605, 0.424459, 0.384843, 0.350213, 0.315908, 0.286164, 0.267302, 0.240004, 0.233517, 0.219232, 0.199162, 0.198735, 0.185179, 0.186560, 0.171997, 0.176852, 0.168879, 0.188651, 0.198735, 0.199162, 0.211289, 0.215901, 0.236197, 0.262860, 0.282427, 0.303430, 0.327375, 0.346880, 0.374757, 0.400614, 0.432160
#*# 	  0.550154, 0.496122, 0.463978, 0.422435, 0.378903, 0.348401, 0.312086, 0.287862, 0.249044, 0.246841, 0.215901, 0.207105, 0.200827, 0.200400, 0.178588, 0.178588, 0.175824, 0.176970, 0.173733, 0.188651, 0.180679, 0.204585, 0.209197, 0.223844, 0.232391, 0.268084, 0.280732, 0.313609, 0.316298, 0.357330, 0.370608, 0.410307, 0.441670
#*# 	  0.575586, 0.526845, 0.484600, 0.435779, 0.395382, 0.362091, 0.336541, 0.311046, 0.269556, 0.244547, 0.248356, 0.211717, 0.199162, 0.184506, 0.192885, 0.185533, 0.188651, 0.194123, 0.198308, 0.206678, 0.207105, 0.212955, 0.215474, 0.220086, 0.250648, 0.263495, 0.282081, 0.305125, 0.322804, 0.358814, 0.379791, 0.404656, 0.434478
#*# 	  0.590191, 0.548116, 0.484552, 0.448576, 0.398590, 0.373273, 0.354059, 0.310211, 0.278459, 0.269600, 0.248210, 0.232002, 0.217994, 0.229694, 0.215474, 0.207105, 0.210862, 0.205012, 0.213382, 0.221752, 0.221752, 0.223844, 0.232002, 0.238101, 0.255975, 0.290210, 0.298343, 0.321640, 0.358511, 0.375938, 0.399008, 0.439918, 0.468516
#*# 	  0.588513, 0.546426, 0.492910, 0.454805, 0.410307, 0.355500, 0.336937, 0.308516, 0.277343, 0.262030, 0.236197, 0.222179, 0.225509, 0.223844, 0.223844, 0.215474, 0.193725, 0.207105, 0.207105, 0.215474, 0.225936, 0.221752, 0.225936, 0.237712, 0.253675, 0.270905, 0.297340, 0.310211, 0.335416, 0.359692, 0.390924, 0.418809, 0.464654
#*# 	  0.570071, 0.512971, 0.471757, 0.426483, 0.390919, 0.343059, 0.310565, 0.288517, 0.267302, 0.236197, 0.217994, 0.211289, 0.198735, 0.192885, 0.204585, 0.188651, 0.185533, 0.185179, 0.183797, 0.194550, 0.198735, 0.200827, 0.177915, 0.223844, 0.246712, 0.263542, 0.284122, 0.300039, 0.323551, 0.351697, 0.376241, 0.399006, 0.437422
#*# 	  0.550152, 0.501879, 0.456977, 0.410722, 0.370039, 0.348401, 0.310211, 0.288517, 0.265448, 0.246841, 0.225509, 0.199162, 0.192458, 0.194550, 0.186915, 0.178233, 0.171997, 0.176852, 0.176497, 0.171997, 0.183797, 0.198308, 0.198735, 0.212684, 0.230098, 0.256864, 0.270905, 0.303776, 0.313997, 0.352575, 0.371832, 0.392530, 0.430107
#*# 	  0.551158, 0.503157, 0.458089, 0.404653, 0.378336, 0.349910, 0.310211, 0.287513, 0.257146, 0.226791, 0.219659, 0.201255, 0.194550, 0.181600, 0.191604, 0.176497, 0.165406, 0.165406, 0.172352, 0.181706, 0.186915, 0.204585, 0.200827, 0.225509, 0.246841, 0.256750, 0.271251, 0.288863, 0.321640, 0.351697, 0.367986, 0.396987, 0.431613
#*# 	  0.536287, 0.474307, 0.442010, 0.390506, 0.359690, 0.329286, 0.307824, 0.273643, 0.247965, 0.220086, 0.207105, 0.198735, 0.188651, 0.174655, 0.170615, 0.157434, 0.155343, 0.160552, 0.165761, 0.175115, 0.178942, 0.180324, 0.198735, 0.209197, 0.221752, 0.241519, 0.265104, 0.286164, 0.306820, 0.329681, 0.356456, 0.381873, 0.408286
#*# 	  0.488425, 0.446935, 0.405468, 0.374493, 0.325461, 0.296648, 0.269600, 0.241519, 0.217567, 0.192885, 0.178588, 0.176179, 0.163670, 0.156406, 0.129284, 0.143256, 0.134454, 0.140709, 0.145504, 0.143218, 0.161934, 0.167143, 0.182415, 0.188072, 0.202920, 0.231484, 0.248745, 0.270252, 0.292254, 0.319732, 0.342669, 0.366768, 0.392115
#*# 	  0.485873, 0.430856, 0.388687, 0.351697, 0.323161, 0.288514, 0.258217, 0.232002, 0.191220, 0.183797, 0.173733, 0.168879, 0.159525, 0.145803, 0.141421, 0.136327, 0.123854, 0.133368, 0.142170, 0.146552, 0.153252, 0.158461, 0.170615, 0.188297, 0.198735, 0.215474, 0.237712, 0.263539, 0.290210, 0.305125, 0.333112, 0.347273, 0.374757
#*# 	  0.471144, 0.412743, 0.380389, 0.329684, 0.308170, 0.272600, 0.243423, 0.223417, 0.198735, 0.182415, 0.168879, 0.149816, 0.151906, 0.145841, 0.132656, 0.130821, 0.127150, 0.132656, 0.132656, 0.133742, 0.143967, 0.148013, 0.168879, 0.180679, 0.210862, 0.219659, 0.243423, 0.262759, 0.292600, 0.310211, 0.342276, 0.354970, 0.383054
#*# 	  0.463351, 0.406262, 0.369779, 0.321640, 0.292254, 0.262759, 0.237078, 0.207105, 0.186915, 0.173025, 0.158816, 0.141421, 0.135203, 0.123854, 0.134117, 0.117973, 0.111006, 0.117973, 0.130821, 0.137788, 0.138874, 0.154316, 0.143967, 0.175824, 0.194550, 0.205439, 0.226363, 0.245715, 0.288517, 0.296994, 0.329286, 0.352192, 0.376241
#*# 	  0.422435, 0.372135, 0.330804, 0.283122, 0.251772, 0.215901, 0.187269, 0.171643, 0.153607, 0.135103, 0.117973, 0.102940, 0.110256, 0.094324, 0.086548, 0.088184, 0.088184, 0.088184, 0.098423, 0.102522, 0.117598, 0.103777, 0.139623, 0.149175, 0.163670, 0.182060, 0.205012, 0.230098, 0.266958, 0.284469, 0.305125, 0.335026, 0.367622
#*# 	  0.399008, 0.353183, 0.315518, 0.267740, 0.226363, 0.190792, 0.170970, 0.148350, 0.123479, 0.104990, 0.098423, 0.086138, 0.070188, 0.061177, 0.069805, 0.057790, 0.064932, 0.069805, 0.064551, 0.074256, 0.090231, 0.106203, 0.110631, 0.139248, 0.144380, 0.161934, 0.181706, 0.201255, 0.226363, 0.258656, 0.281080, 0.312086, 0.352575
#*# 	  0.396830, 0.338845, 0.297997, 0.253675, 0.205439, 0.183442, 0.158816, 0.132656, 0.108670, 0.096374, 0.076309, 0.083252, 0.069421, 0.058531, 0.050287, 0.043155, 0.046913, 0.055540, 0.062289, 0.069805, 0.083670, 0.090231, 0.098844, 0.128611, 0.133742, 0.161934, 0.176497, 0.202920, 0.230098, 0.266614, 0.282081, 0.307167, 0.330074
#*# 	  0.383359, 0.336934, 0.283428, 0.254326, 0.205012, 0.174182, 0.158107, 0.126775, 0.106203, 0.086138, 0.069805, 0.061561, 0.059298, 0.050287, 0.048408, 0.041276, 0.035292, 0.043155, 0.044650, 0.056652, 0.064551, 0.095130, 0.090231, 0.110631, 0.118347, 0.144679, 0.168182, 0.186915, 0.215474, 0.255190, 0.290212, 0.302080, 0.342276
#*# 	  0.379517, 0.298689, 0.267349, 0.209624, 0.165052, 0.157434, 0.112841, 0.100054, 0.069805, 0.055924, 0.043155, 0.033760, 0.024829, 0.019252, 0.002084, 0.019285, 0.019285, 0.030070, 0.034942, 0.034595, 0.041276, 0.057419, 0.066430, 0.078358, 0.108670, 0.123854, 0.149852, 0.159170, 0.200827, 0.228456, 0.272254, 0.291561, 0.325464
#*# 	  0.368862, 0.306474, 0.249868, 0.194550, 0.168206, 0.129697, 0.094743, 0.069805, 0.051782, 0.033029, 0.016910, 0.013707, -0.007834, -0.009694, -0.016984, -0.001156, -0.008214, -0.014505, 0.001082, 0.015567, 0.023004, 0.022627, 0.041276, 0.063056, 0.074259, 0.100473, 0.120183, 0.150915, 0.171643, 0.199162, 0.236197, 0.277122, 0.315518
#*# 	  0.359690, 0.306820, 0.241131, 0.185179, 0.152297, 0.109089, 0.089815, 0.051297, 0.021903, 0.007029, -0.005978, -0.012533, -0.022447, -0.017996, -0.052423, -0.022953, -0.027910, -0.013545, -0.015011, -0.001156, -0.000777, 0.013710, 0.027825, 0.046913, 0.064935, 0.098008, 0.108545, 0.137413, 0.173025, 0.207105, 0.238836, 0.277341, 0.306820
#*# x_count = 33
#*# y_count = 33
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 20.0
#*# max_x = 319.84
#*# min_y = 20.0
#*# max_y = 319.8400000000001
